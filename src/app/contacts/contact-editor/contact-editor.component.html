<span class="spinner" *ngIf="!contact && new_contact===false"></span>
<div class="card" *ngIf="contact || new_contact">
  <div class="card-header">
    {{contact.first_name}} {{contact.surname}}
  </div>
  <div class="card-block">
    <div class="card-title">
      Basic Information
    </div>
    <div class="card-text">
      <form clrForm>
        <clr-input-container>
          <label for="first_name">
            First Name
          </label>
          <input clrInput type="text" name="first_name" [(ngModel)]="contact.first_name">
        </clr-input-container>
        <clr-input-container>
          <label for="surname">
            Surname
          </label>
          <input clrInput type="text" name="surname" [(ngModel)]="contact.surname">
        </clr-input-container>
      </form>
    </div>
  </div>
  <div class="card-block">
    <div class="card-title">
      Contact Details
    </div>
    <div class="card-text">
      <form clrForm>
        <clr-input-container>
          <label for="email_address">
            Email Address
          </label>
          <input clrInput type="email" name="email_address" [(ngModel)]="contact.email_address">
        </clr-input-container>
        <clr-input-container>
          <label for="phone_number">
            Phone Number
          </label>
          <input clrInput type="tel" [(ngModel)]="contact.phone_number" name="phone_number">
        </clr-input-container>
      </form>
    </div>
  </div>

  <div class="card-block">
    <div class="card-title">
      Servicechain
    </div>
    <form clrForm>
      <clr-select-container>
        <label for="default_servicechain">
          Default Servicechain
        </label>
        <select clrSelect [(ngModel)]="contact.ServicechainId" name="servicechainId">
          <option *ngFor="let sc of servicechainsAvailable" [ngValue]="sc.id">{{sc.name}}</option>
        </select>
      </clr-select-container>
    </form>
  </div>

  <div class="card-footer">
    <div class="btn-group btn-link" *ngIf="userCanEdit">
      <button class="btn" (click)="saveContact()">Save</button>
      <button class="btn">Cancel</button>
    </div>
    <button class="btn btn-outline-danger" *ngIf="userCanDelete && !new_contact" (click)="deleteContact()">Delete</button>
    <p *ngIf="!userCanEdit">You cannot edit this contact.</p>
  </div>
</div>